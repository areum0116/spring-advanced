# SPRING ADVANCED

## í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
![image](https://github.com/user-attachments/assets/77cc8af8-ce40-4560-8f8c-ddb5b5eef594)
![image](https://github.com/user-attachments/assets/9c430eef-fa87-456e-b559-23abb3fabf25)

# ìš”êµ¬ ì‚¬í•­
## Level 1
### **1. ì½”ë“œ ê°œì„  í€´ì¦ˆ -** Early Return

ì¡°ê±´ì— ë§ì§€ ì•ŠëŠ” ê²½ìš° ì¦‰ì‹œ ë¦¬í„´í•˜ì—¬, ë¶ˆí•„ìš”í•œ ë¡œì§ì˜ ì‹¤í–‰ì„ ë°©ì§€í•˜ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
íŒ¨í‚¤ì§€ `package org.example.expert.domain.auth.service;` ì˜ `AuthService` í´ë˜ìŠ¤ì— ìˆëŠ” `signup()` ì¤‘ ì•„ë˜ì˜ ì½”ë“œ ë¶€ë¶„ì˜ ìœ„ì¹˜ë¥¼ ë¦¬íŒ©í† ë§í•´ì„œ

```java
if (userRepository.existsByEmail(signupRequest.getEmail())) {
    throw new InvalidRequestException("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤.");
}
```

í•´ë‹¹ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì¼ ë•Œ, `passwordEncoder`ì˜ `encode()` ë™ì‘ì´ ë¶ˆí•„ìš”í•˜ê²Œ ì¼ì–´ë‚˜ì§€ ì•Šê²Œ ì½”ë“œë¥¼ ê°œì„ í•´ì£¼ì„¸ìš”.

ğŸš« **ì£¼ì˜ì‚¬í•­!**

`SignupReqeust` í´ë˜ìŠ¤ì˜ `@NotBlank`, `@Email`ê³¼ ê´€ê³„ ì—†ì´ ë¦¬íŒ©í† ë§í•´ì£¼ì„¸ìš”.

### **2. ë¦¬íŒ©í† ë§ í€´ì¦ˆ - ë¶ˆí•„ìš”í•œ `if-else` í”¼í•˜ê¸°**

ë³µì¡í•œ `if-else` êµ¬ì¡°ëŠ” ì½”ë“œì˜ ê°€ë…ì„±ì„ ë–¨ì–´ëœ¨ë¦¬ê³  ìœ ì§€ë³´ìˆ˜ë¥¼ ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ `else` ë¸”ë¡ì„ ì—†ì•  ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ í•©ë‹ˆë‹¤.
íŒ¨í‚¤ì§€ package org.example.expert.client; ì˜ WeatherClient í´ë˜ìŠ¤ì— ìˆëŠ” getTodayWeather() ì¤‘ ì•„ë˜ì˜ ì½”ë“œ ë¶€ë¶„ì„ ë¦¬íŒ©í† ë§í•´ì£¼ì„¸ìš”.
```java
WeatherDto[] weatherArray = responseEntity.getBody();
if (!HttpStatus.OK.equals(responseEntity.getStatusCode())) {
    throw new ServerException("ë‚ ì”¨ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìƒíƒœ ì½”ë“œ: " + responseEntity.getStatusCode());
} else {
    if (weatherArray == null || weatherArray.length == 0) {
        throw new ServerException("ë‚ ì”¨ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
    }
}
```

### **3. ë¦¬íŒ©í† ë§ í€´ì¦ˆ - ë©”ì„œë“œ ë¶„ë¦¬**

ë³µì¡í•œ ë¡œì§ì€ ë©”ì„œë“œë¡œ ë¶„ë¦¬í•˜ê³ , ë©”ì„œë“œ ì´ë¦„ë§Œìœ¼ë¡œ ë™ì‘ì„ ëª…í™•íˆ ì´í•´í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
íŒ¨í‚¤ì§€ package org.example.expert.domain.user.service; ì˜ UserService í´ë˜ìŠ¤ì— ìˆëŠ” changePassword() ì¤‘ ì•„ë˜ ì½”ë“œ ë¶€ë¶„ì„ ë¦¬íŒ©í† ë§í•´ì£¼ì„¸ìš”.
```java
if (userChangePasswordRequest.getNewPassword().length() < 8 ||
        !userChangePasswordRequest.getNewPassword().matches(".*\\d.*") ||
        !userChangePasswordRequest.getNewPassword().matches(".*[A-Z].*")) {
    throw new InvalidRequestException("ìƒˆ ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•˜ê³ , ìˆ«ìì™€ ëŒ€ë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.");
}
```

### **4. ê´€ì‹¬ì‚¬ ë¶„ë¦¬ - JWT ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ ìˆ˜ì •**

JWT ì¸ì¦ì€ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•„ë‹Œ í•„í„°ì—ì„œ ì²˜ë¦¬í•˜ê²Œ í•˜ì—¬, ì¸ì¦ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì´ê³ , ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë³¸ë˜ì˜ ê¸°ëŠ¥ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
íŒ¨í‚¤ì§€ `package org.example.expert.domain.manager.controller;` ì˜ `ManagerController` í´ë˜ìŠ¤ì— ìˆëŠ” `deleteManager()` ì—ì„œ JWT í† í°ì„ ì§ì ‘ í•´ì„í•˜ì—¬ ì‚¬ìš©ì ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë°©ì‹ì´ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. 

JWT ì²˜ë¦¬ ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ê³ , ì¸ì¦ëœ ì‚¬ìš©ì ì •ë³´ë¥¼ ë” ì ì ˆí•œ ë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ `deleteManager()` ë©”ì„œë“œë¥¼ ê°œì„ í•´ì£¼ì„¸ìš”.

í•„ìš” ì‹œ, `ManagerService` í´ë˜ìŠ¤ì— ìˆëŠ” `deleteManager()` ë˜í•œ ë¦¬íŒ©í† ë§í•´ì£¼ì„¸ìš”.


## Level 2
### **5. í…ŒìŠ¤íŠ¸ ì—°ìŠµ - 1**
í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ `package org.example.expert.config;` ì˜ `PassEncoderTest` í´ë˜ìŠ¤ì— ìˆëŠ” `matches_ë©”ì„œë“œê°€_ì •ìƒì ìœ¼ë¡œ_ë™ì‘í•œë‹¤()` í…ŒìŠ¤íŠ¸ê°€ ì˜ë„ëŒ€ë¡œ ì„±ê³µí•  ìˆ˜ ìˆê²Œ ìˆ˜ì •í•´ ì£¼ì„¸ìš”.

### **6. ìœ ë‹› í…ŒìŠ¤íŠ¸ - 1**
í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ `package org.example.expert.domain.manager.service;` ì˜ `ManagerServiceTest` ì˜ í´ë˜ìŠ¤ì— ìˆëŠ” `manager_ëª©ë¡_ì¡°íšŒ_ì‹œ_Todoê°€_ì—†ë‹¤ë©´_NPE_ì—ëŸ¬ë¥¼_ë˜ì§„ë‹¤()` í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ê³  ì»¨í…ìŠ¤íŠ¸ì™€ ì¼ì¹˜í•˜ë„ë¡ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë©”ì„œë“œ ëª…ì„ ìˆ˜ì •í•´ ì£¼ì„¸ìš”.

### **7. ìœ ë‹› í…ŒìŠ¤íŠ¸ - 2**
í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ `org.example.expert.domain.comment.service;` ì˜ `CommentServiceTest` ì˜ í´ë˜ìŠ¤ì— ìˆëŠ” `comment_ë“±ë¡_ì¤‘_í• ì¼ì„_ì°¾ì§€_ëª»í•´_ì—ëŸ¬ê°€_ë°œìƒí•œë‹¤()` í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•  ìˆ˜ ìˆë„ë¡ **í…ŒìŠ¤íŠ¸ ì½”ë“œ**ë¥¼ ìˆ˜ì •í•´ ì£¼ì„¸ìš”.

### **8. ìœ ë‹› í…ŒìŠ¤íŠ¸ - 3**
í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ `org.example.expert.domain.manager.service`ì˜ `ManagerServiceTest` í´ë˜ìŠ¤ì— ìˆëŠ” `todoì˜_userê°€_nullì¸_ê²½ìš°_ì˜ˆì™¸ê°€_ë°œìƒí•œë‹¤()` í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•  ìˆ˜ ìˆë„ë¡ **ì„œë¹„ìŠ¤ ë¡œì§**ì„ ìˆ˜ì •í•´ ì£¼ì„¸ìš”.

### **9. AOP**

- ì–´ë“œë¯¼ ì‚¬ìš©ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” íŠ¹ì • APIì—ëŠ” ì ‘ê·¼í•  ë•Œë§ˆë‹¤ ì ‘ê·¼ ë¡œê·¸ë¥¼ ê¸°ë¡í•´ì•¼ í•©ë‹ˆë‹¤.
    - ì–´ë“œë¯¼ ì‚¬ìš©ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ì˜ˆìš”.
        - íŒ¨í‚¤ì§€ `org.example.expert.domain.comment.controller;` ì˜ `CommentAdminController` í´ë˜ìŠ¤ì— ìˆëŠ” `deleteComment()`
        - íŒ¨í‚¤ì§€ `package org.example.expert.domain.user.controller;` ì˜ `UserAdminController` í´ë˜ìŠ¤ì— ìˆëŠ” `changeUserRole()`
    - Spring AOPë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ APIë“¤ì— ëŒ€í•œ ì ‘ê·¼ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì„¸ìš”.

**ì£¼ì˜ì‚¬í•­!**
- **ë¡œê·¸ ê¸°ë¡ì—ëŠ” ë‹¤ìŒ ì •ë³´ê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:**
    - ìš”ì²­í•œ ì‚¬ìš©ìì˜ ID
    - API ìš”ì²­ ì‹œê°
    - API ìš”ì²­ URL


### **10. Service í…ŒìŠ¤íŠ¸**
ğŸ‘‰ Service í…ŒìŠ¤íŠ¸ëŠ” ì™œ ì‘ì„±í• ê¹Œìš”?
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì •í™•í•˜ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì‘ì„±í•©ë‹ˆë‹¤. Service í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë³µì¡í•œ ë¡œì§ì´ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ê³ , ë°ì´í„° ì²˜ë¦¬ê°€ ì •í™•í•˜ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ê²€ì¦í•  ìˆ˜ ìˆì–´ìš”.

- ê°€ëŠ¥í•œ ë§ì€ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”!
- ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëŒ€ìƒìœ¼ë¡œ ì‘ì„±í•˜ë©´ ì¢‹ì•„ìš”.
    - ì˜ˆì™¸ ì¡°ê±´ ë° ë³µì¡í•œ ë¡œì§ì„ ê°€ì§„ ë©”ì†Œë“œ
    - ë°ì´í„°ë² ì´ìŠ¤, ì™¸ë¶€ API ë“± ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ìƒí˜¸ì‘ìš©ì´ ìˆëŠ” ë©”ì†Œë“œ
    - ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë©”ì†Œë“œ
- ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ë¥ ì„ `README.md` ì— ì²¨ë¶€í•´ ì£¼ì„¸ìš”.
 
### **11. Controller í…ŒìŠ¤íŠ¸**
ğŸ‘‰ Controller í…ŒìŠ¤íŠ¸ëŠ” ì™œ ì‘ì„±í• ê¹Œìš”?
ì‚¬ìš©ì ìš”ì²­ì— ëŒ€í•´ ì˜ˆìƒí•œ ëŒ€ë¡œ ì‘ë‹µì´ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì‘ì„±í•©ë‹ˆë‹¤. 
Controller í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ HTTP ìš”ì²­ ë° ì‘ë‹µ íë¦„ê³¼ í´ë¼ì´ì–¸íŠ¸ì™€ì˜ ìƒí˜¸ì‘ìš©ì´ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ê²€ì¦í•  ìˆ˜ ìˆì–´ìš”.

- ê°€ëŠ¥í•œ ë§ì€ ë‹¨ìœ„ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”!
- ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëŒ€ìƒìœ¼ë¡œ ì‘ì„±í•˜ë©´ ì¢‹ì•„ìš”.
    - ì…ë ¥ ê°’ì— ëŒ€í•´ ë‹¤ì–‘í•œ HTTP ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œ
    - ì—¬ëŸ¬ APIì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë©”ì†Œë“œ. ex) ì¸ì¦ì´ë‚˜ ê¶Œí•œ ê²€ì¦ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œ
    - ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ í†µì‹ í•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ê±°ë‚˜ ì €ì¥í•˜ëŠ” ë©”ì†Œë“œ
- ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ë¥ ì„ `README.md` ì— ì²¨ë¶€í•´ ì£¼ì„¸ìš”.

### **12. ë„ì „! ì‹¤ë¬´ ê³¼ì œ**
ğŸš€ ê°„ë‹¨í•œ ì‹¤ë¬´ ê¸°ë°˜ì˜ ê³¼ì œë¥¼ ìˆ˜í–‰í•´ë´…ë‹ˆë‹¤!

ë“œë””ì–´ ê°œë°œì ì·¨ì—…ì— ì„±ê³µí–ˆì–´ìš”! 
ì—¬ëŸ¬ë¶„ì´ ì‹ ì… ê°œë°œìë¡œ ì…ì‚¬í•˜ê²Œ ë˜ë©´, ì²˜ìŒë¶€í„° í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê¸°ë³´ë‹¤ ì´ë¯¸ êµ¬ì¶•ëœ ì‹œìŠ¤í…œì— ì¶”ê°€ ìš”êµ¬ì‚¬í•­ì„ ê°œë°œí•˜ëŠ” ê²½ìš°ê°€ ë” ë§ìŠµë‹ˆë‹¤. ì¶”ê°€ ìš”êµ¬ì‚¬í•­ì„ ê°œë°œí•˜ê³ , ê·¸ì— ë”°ë¥¸ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ìƒˆë¡œìš´ ì½”ë“œê°€ í”„ë¡œì íŠ¸ì— ì•ˆì •ì ìœ¼ë¡œ í†µí•©ë˜ëŠ” ê²ƒì„ ë³´ì¥í•  ìˆ˜ ìˆì–´ìš”!

- ìš”êµ¬ì‚¬í•­
    - `ëŒ“ê¸€(comment)` ì„ ì €ì¥í•  ë•Œ, í•´ë‹¹ ëŒ“ê¸€ì˜ `í• ì¼(todo)` ì— í•´ë‹¹í•˜ëŠ” `ë‹´ë‹¹ì(manager)` ê°€ ì•„ë‹ˆë©´ ëŒ“ê¸€ì„ ë‹¬ ìˆ˜ ì—†ë„ë¡ `ì˜ˆì™¸(throw)`ì²˜ë¦¬í•©ë‹ˆë‹¤.
- í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •
    - 7-2 ê³¼ì œë¥¼ ì˜ ìˆ˜í–‰í–ˆë‹¤ë©´  `CommentServiceTest.java` í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì •ìƒ ì‹¤í–‰ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ê¸°íš ìš”ê±´ì„ ì¶”ê°€í•˜ê²Œ ë˜ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì •ìƒ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    - 12-1 ê³¼ì œ: ì¶”ê°€í•œ ê¸°íš ìš”ê±´ì— ë”°ë¼ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.
    - 12-2 ê³¼ì œ: ì¶”ê°€í•œ ê¸°íš ìš”ê±´ì— ë”°ë¼ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.
